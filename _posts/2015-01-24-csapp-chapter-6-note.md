---
layout: post
title: "CSAPP"
description: 
modified: 2015-01-24 13:52:13 +0800
category: 
tags: [CSAPP, Storage]
image:
  feature: 19.jpg-clip.jpg
  credit: 
  creditlink: 
comments: true
share: true
alias: [/2015/01/24/CSAPP chapter 6 note]
---

### 存储器层次结构

在现代计算机系统中，存储器（memory system）是一个具有不同容量、成本和访问时间的存储设备的层次结构。CPU寄存器保存着最常用的数据，高速缓存存储器作为主存储器的缓存区域。主存暂时存放存储在容量较大的、慢速磁盘上的数据，而磁盘常常又作为存储在通过网络连接的其他机器的磁盘上的数据的缓冲区域。以这种存储器结构架构可以保证其成本与层次结构底层最便宜的存储设备相当，但是却以接近于层次结构顶部存储设备的高速率向程序提供数据。

<!--more-->

##1 存储技术

###1.1 随机访问存储器（RAM）
分为两类：静态(SRAM)的和动态(DRAM)的。So this name

####1.1.1 SRAM

每个位的存储在一个双稳态(bistable)存储器单元中，单元电路用一个六晶体管电路实现，可以无期限地保持在两个不同的电压配置或状态之一，其他任何状态都是不稳定的——从不稳定的状态开始，电路都会迅速地转移到两个稳定状态中的一个（倒转的钟摆）。只要有电，它就会永远的保持它的值。

####1.1.2 DRAM

每个位存储在一为对一个电容的充电，而且与SRAM不同的是,DRAM对干扰非常敏感，光线都能导致电容电压发生改变，而这种干扰的影响是不可恢复的。（数码照相机和摄像机中的传感器实际上就是DRAM单元阵列。而电容会漏电，这就要求存储器系统周期性地通过读出、重写刷新存储器的每一位。

DRAM和SRAM的特性比较：

|    |每位晶体管数|相对访问时间|持续的?|敏感的?|相对花费|应用|
|----| :-----:    |   :-------:|:-----:|:----:|:------:|:--:|
|SRAM|   6 |   1X   |  是   | 否   |   100X |高速缓存存储器|
|DRAM|  1  |   10X  | 否    | 是   |  1X    | 主存，帧缓冲区|

####1.1.3 DRAM的改进

传统的每个DRAM芯片被连接到存储控制器上，要读出超单元(i,j)的内容，需要首先将行地址发送到DRAM(Row Access Strobe,RAS)，DRAM就会将这一整行读入到DRAM的内部行缓冲区，之后再将列地址发送到DRAM中(Column Access Strobe, CAS)，就可以读取这个超单元的内容了。RAS和CAS共享相同的DRAM地址引脚。

快页模式DRAM(Fast Page Mode DRAM):传统的DRAM将一整行读入到内部缓冲区之后，读取所需的那个单元的内容之后，就会将内部缓冲区清空。这意味着即使是要读同一行的几个超单元，也得相应地发送几次RAS和CAS指令。而FPM DRAM做了这个改进，它不立刻清空缓冲区，直接从缓冲区中读入接下去的几个单元。

同步DRAM: SDRAM使用同一用与驱动存储控制器相同的外部时钟信号的上升沿来代替许多这样的控制信号。

双倍数据速率同步DRAM(Double Date-rate Synchronous DRAM, DDR SDRAM): 对SDRAM的一种增强，通过使用两个时钟沿作为控制信号，从而使DRAM的速度翻倍。不同类型的DDR SDRAM是用提高有效带宽的很小的预取缓冲区的大小来划分的：DDR(2位)、DDR2(4位)、DDR3(8位)

现代的服务器和桌面系统都已经是用DDR构造。



