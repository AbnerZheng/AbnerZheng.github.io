<!DOCTYPE html>
<html prefix="" lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>rust学习 | Abner Zheng's Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://abnerzheng.github.io/posts/rustxue-xi/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Abner Zheng">
<meta property="og:site_name" content="Abner Zheng's Blog">
<meta property="og:title" content="rust学习">
<meta property="og:url" content="https://abnerzheng.github.io/posts/rustxue-xi/">
<meta property="og:description" content="Aha, I am learning rust in these days, since we decide to use this language in the SC and storage layer.



I will take some notes when studying the language.



Chapter 7. Error Handling


There are ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-12-13T00:55:36+08:00">
</head>
<body>
    

    <header id="header" class="navbar"><div class="container">
            
    <div class="brand">

        <div class="brand-text">
            <a href="https://abnerzheng.github.io/" title="Abner Zheng's Blog" rel="home">
                Abner Zheng's Blog
            </a>
        </div>

        <a id="btn-toggle-nav" class="navbar-toggle">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
    </div>

            
    <nav class="navbar-collapse collapse"><ul class="nav">
<li><a href="../../archive.html">文章存档</a></li>
                <li><a href="../../categories/">标签</a></li>
                <li><a href="../../rss.xml">RSS 源</a></li>
    
    
    </ul></nav>
</div>
    </header><div class="header-padding"> </div>

    
    <div class="post-header">
        <div class="container">
            <div class="title">
                rust学习
            </div>
        </div>
    </div>

    <div class="post-meta">
      <div class="container">
	<div class="meta clearfix">
	  <div class="authordate">
	    <time class="timeago" datetime="2018-12-13T00:55:36+08:00">2018/12/13</time>
	    

	    
          |  
        <a href="index.org" id="sourcelink">源文件</a>

	  </div>
	  <div class="post-tags">
	  </div>
	</div>
      </div>
    </div>


    <div id="post-main" class="main">
        <div class="container">
        <p>
Aha, I am learning rust in these days, since we decide to use this language in the SC and storage layer.
</p>

<p>
I will take some notes when studying the language.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Chapter 7. Error Handling</h2>
<div class="outline-text-2" id="text-1">
<p>
There are two kinds of way to do error handling: panic and Results.
</p>

<p>
Panic is more like the RuntimeException in Java, it contains the stack of function and reason message.
</p>

<p>
Results like the Either in Scala. You can use a match expression to deal with them. In rust, we often wanna to use the same Result across every function in the module. Then type alias helps us a lot.
</p>

<div class="highlight"><pre><span></span>pub type Result&lt;T&gt; = result::Result&lt;T, Error&gt;;
</pre></div>

<p>
Then we can use `io::Result&lt;T&gt;` when you use this module.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Propagating Errors</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Rust has a "?" operator that propagate errors up the call stack. This operator can be used in any expression, produces a Result.  When the expression returns a success result, it will unwrap the Result to get the success value inside. And when expression returns an error, it will return from the enclosing function, and passing the error result up against the call chain. So "?" can only be used in functions that return a Result type value.
</p>

<p>
So we can add "?" operator to every line of code to avoid checking fail cases everywhere. Rust do the same thing with for by using "?". This is pretty clear, I really like this feature.
</p>
</div>
</div>
</div>
            
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="abnerzhengblog",
            disqus_url="https://abnerzheng.github.io/posts/rustxue-xi/",
        disqus_title="rust\u5b66\u4e60",
        disqus_identifier="cache/posts/rustxue-xi.html",
        disqus_config = function () {
            this.language = "zh_cn";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        

        </div>
    </div>

    
    <footer><div class="container">
            <div class="social">



                <div class="social-entry">
                    <a href="../../rss.xml" target="_blank">
                        <i class="fa fa-rss"></i> 
                    </a>
                </div>
            </div>
                <div class="copyright">
                    Contents © 2020         <a href="mailto:abnerzheng@gmail.com">Abner Zheng</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
                </div>
           
        </div>
    </footer><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script>
</body>
</html>
