<!DOCTYPE html>
<html prefix="" lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>rust学习 | Abner Zheng's Blog</title>
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://abnerzheng.github.io/posts/rustxue-xi/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Abner Zheng">
<link rel="prev" href="../new-start/" title="new start" type="text/html">
<link rel="next" href="../zai-du-bei-bao-jiu-jiang/" title="再读《背包九讲》" type="text/html">
<meta property="og:site_name" content="Abner Zheng's Blog">
<meta property="og:title" content="rust学习">
<meta property="og:url" content="https://abnerzheng.github.io/posts/rustxue-xi/">
<meta property="og:description" content="Aha, I am learning rust in these days, since we decide to use this language in the SC and storage layer.



I will take some notes when studying the language.



Chapter 7. Error Handling


There are ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-12-13T00:55:36+08:00">
</head>
<body class="theme-base-08">
    <a href="#content" class="sr-only sr-only-focusable">跳到主内容</a>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
            styles, `#sidebar-checkbox` for behavior. -->
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><!-- Toggleable sidebar --><div class="sidebar" id="sidebar">
        <div class="sidebar-item">
            <p>A reserved <a href="https://getnikola.com" target="_blank">Nikola</a> theme that places the utmost gravity on content with a hidden drawer. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a> for Jekyll,
            ported to Nikola by <a href="https://twitter.com/ralsina" target="_blank">@ralsina</a>.</p>
        </div>
        
    <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../archive.html">文章存档</a>
        <a class="sidebar-nav-item" href="../../categories/">标签</a>
        <a class="sidebar-nav-item" href="../../rss.xml">RSS 源</a>
    
    
    </nav>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          
    <h3 id="brand" class="masthead-title">
      <a href="https://abnerzheng.github.io/" title="Abner Zheng's Blog" rel="home">Abner Zheng's Blog</a>
    </h3>

        </div>
      </div>

      <div class="container content" id="content">
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="post-title p-name entry-title" itemprop="headline name"><a href="." class="u-url">rust学习</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Abner Zheng</span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="post-date published dt-published" datetime="2018-12-13T00:55:36+08:00" itemprop="datePublished" title="2018-12-13 00:55">2018-12-13 00:55</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/rustxue-xi.html">评论</a>


        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>
Aha, I am learning rust in these days, since we decide to use this language in the SC and storage layer.
</p>

<p>
I will take some notes when studying the language.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Chapter 7. Error Handling</h2>
<div class="outline-text-2" id="text-1">
<p>
There are two kinds of way to do error handling: panic and Results.
</p>

<p>
Panic is more like the RuntimeException in Java, it contains the stack of function and reason message.
</p>

<p>
Results like the Either in Scala. You can use a match expression to deal with them. In rust, we often wanna to use the same Result across every function in the module. Then type alias helps us a lot.
</p>

<div class="highlight"><pre><span></span>pub type Result&lt;T&gt; = result::Result&lt;T, Error&gt;;
</pre></div>

<p>
Then we can use `io::Result&lt;T&gt;` when you use this module.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">Propagating Errors</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Rust has a "?" operator that propagate errors up the call stack. This operator can be used in any expression, produces a Result.  When the expression returns a success result, it will unwrap the Result to get the success value inside. And when expression returns an error, it will return from the enclosing function, and passing the error result up against the call chain. So "?" can only be used in functions that return a Result type value.
</p>

<p>
So we can add "?" operator to every line of code to avoid checking fail cases everywhere. Rust do the same thing with for by using "?". This is pretty clear, I really like this feature.
</p>
</div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../new-start/" rel="prev" title="new start">上一篇文章</a>
            </li>
            <li class="next">
                <a href="../zai-du-bei-bao-jiu-jiang/" rel="next" title="再读《背包九讲》">下一篇文章</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>评论</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="abnerzhengblog",
            disqus_url="https://abnerzheng.github.io/posts/rustxue-xi/",
        disqus_title="rust\u5b66\u4e60",
        disqus_identifier="cache/posts/rustxue-xi.html",
        disqus_config = function () {
            this.language = "zh_cn";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="abnerzhengblog";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2020         <a href="mailto:abnerzheng@gmail.com">Abner Zheng</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </div>
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
    
    
            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("zh-cn");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
