<!DOCTYPE html>
<html lang="zh_cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Abner Zheng">
<title>STM学习 | Abner Zheng's Blog</title>
<link href="../../assets/css/all.css" rel="stylesheet" type="text/css">
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]--><link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
</head>
<body>
    <div id="wrp">
        <div id="cont">
            <div id="page">
                <header><h1>
                        <a href="https://abnerzheng.github.io/" title="Abner Zheng's Blog" rel="home">Abner Zheng's Blog</a>
                    </h1>
                </header><div id="body">
                    <nav><ul>
<li><a href="https://abnerzheng.github.io/" title="Home" rel="home"><i class="fa fa-fw fa-home"></i></a></li>
                            <li><a href="https://abnerzheng.github.io/categories/" title="Tags"><i class="fa fa-fw fa-tags"></i></a></li>
                            <li><a href="https://abnerzheng.github.io/rss.xml" title="RSS feed"><i class="fa fa-fw fa-rss"></i></a></li>
                            <li><a href="https://abnerzheng.github.io/pages/about" title="About"><i class="fa fa-fw fa-user"></i></a></li>
                            <li><a href="https://github.com/abnerzheng" title="My GitHub repo"><i class="fa fa-fw fa-github"></i></a></li>
                        </ul></nav><div id="content">
    <article class="post-text"><div class="h-entry" itemscope="itemscope" itemtype="http://schema.org/Article">
        <h1 class="p-name" itemprop="headline name">STM学习</h1>

    <small>
        Posted: <time class="published dt-published" datetime="2017-07-18T17:09:17+08:00" itemprop="datePublished">2017-07-18 17:09</time></small>
    <div class="e-content" itemprop="articleBody text">
    <p>
STM是软件事务内存(software transaction memory)的简称。 我在PPCP中对它进行了一些学习，这里做个记录。
</p>

<!--TEASER_END-->



<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">为什么我们需要STM</h2>
<div class="outline-text-2" id="text-1">
<p>
在多线程编程中，我们已经有了锁这种工具，那为什么我们还需要STM呢? 答案是这样的， 基于锁的程序是不可组合的.集体表现在，
</p>

<ul class="org-ul">
<li>即使两个各自无死锁的程序，不能保证它们的组合程序是无死锁
</li>
<li>即使两个各自满足原子性的程序，不能保证他们的组合程序满足原子性
</li>
</ul>
<p>
这个特性使得基于锁的编程难度骤升。而STM能够很好得解决这个问题。
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">STM的优点</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>事务是可以组合的
</li>
<li>容易支持阻塞
</li>
<li>通常是乐观的，读并行自动具有可扩展性
</li>
<li>没有死锁问题
</li>
</ul>
<p>
与Database中的事务不同的是，STM不需要具有Durable性质，只需要有ACI性质。
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">STM库</h2>
<div class="outline-text-2" id="text-3">
<p>
在Java中并没有原生实现STM，但是我们可以使用Multiverse库, 它的最新版本是2012年四月发布的0.7版本.
</p>
</div>
</div>
    </div>
    </div>
            <ul class="pager">
<li class="previous">
                <a href="../mesi-protocol/" rel="prev">← 前一篇</a>
            </li>
            <li class="next">
                <a href="../charpter1/" rel="next">后一篇 →</a>
            </li>
        </ul></article>
</div>
                </div>
                <div id="ftr">
                </div>
            </div>
        </div>
    </div>
	<footer><small>Contents © 2017         <a href="mailto:abnerzheng@gmail.com">Abner Zheng</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </small>
	</footer>
</body>
</html>
